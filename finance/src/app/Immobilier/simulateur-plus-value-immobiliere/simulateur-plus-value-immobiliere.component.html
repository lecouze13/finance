<main>
  <h1>Simulateur de Plus-Value Immobilière – Calculez votre imposition</h1>
  <p>Estimez la plus-value sur la vente d’un bien immobilier et l’impôt à payer en fonction de votre situation.</p>
  <br>

  <div class="separator"></div><br>
  <div class="card p-fluid flex flex-wrap gap-4">
    <div class="flex-auto">
      <p-floatLabel>
        <p-inputNumber [(ngModel)]="prixAchat" inputId="achat" mode="currency" currency="EUR" />
        <label for="achat">Prix d'achat</label>
      </p-floatLabel>
    </div>

    <div class="flex-auto">
      <p-floatLabel>
        <p-inputNumber [(ngModel)]="fraisAchat" inputId="frais" mode="currency" currency="EUR" />
        <label for="frais">Frais d'acquisition (notaire...)</label>
      </p-floatLabel>
    </div>

    <div class="flex-auto">
      <p-floatLabel>
        <p-inputNumber [(ngModel)]="travaux" inputId="travaux" mode="currency" currency="EUR" />
        <label for="travaux">Montant des travaux</label>
      </p-floatLabel>
    </div>

    <div class="flex-auto">
      <p-floatLabel>
        <p-inputNumber [(ngModel)]="prixVente" inputId="vente" mode="currency" currency="EUR" />
        <label for="vente">Prix de vente</label>
      </p-floatLabel>
    </div>

    <div class="flex-auto">
      <p-floatLabel>
        <p-inputNumber [(ngModel)]="dureeDetention" inputId="duree" [min]="0" [max]="50" />
        <label for="duree">Durée de détention (années)</label>
      </p-floatLabel>
    </div>
    <div class="flex-auto">
      <p-checkbox [(ngModel)]="estResidencePrincipale" binary="true" label="Résidence principale ?"></p-checkbox>

    </div>
    <div class="flex-auto">
      <button pButton label="Calculer" icon="pi pi-check"(click)="calculerPlusValue()" class="p-button-success"></button>

    </div>


  </div>

  <div *ngIf="plusValue !== null" class="resultats mt-4">
    <h3>Résultats</h3>
    <p><strong>Plus-value brute :</strong> {{ plusValue | number:'1.0-0' }} €</p>
    <p><strong>Imposition estimée :</strong> {{ impositionTotale | number:'1.0-0' }} €</p>
    <div *ngIf="estResidencePrincipale" class="text-green-600">
      ✅ Aucune imposition car c'est une résidence principale.
    </div>
  </div>
  <div class="separator"></div><br>
  <h2>La plus-value immobilière : calcul et fiscalité</h2>

<p>La plus-value immobilière correspond à la différence entre le prix de vente et le prix d’achat d’un bien immobilier. Elle est soumise à une fiscalité spécifique lors de la revente, que ce soit pour une résidence secondaire, un investissement locatif ou un terrain.</p>

<h3>1. Calcul de la plus-value</h3>
<p>La plus-value brute est calculée ainsi :</p>
<ul>
  <li><strong>Prix de vente</strong> - <strong>Prix d’achat</strong> = Plus-value brute</li>
</ul>
<p>Des abattements sont ensuite appliqués selon la durée de détention du bien, ainsi que la prise en compte de certains frais et travaux, pour déterminer la plus-value imposable.</p>

<h3>2. Abattements pour durée de détention</h3>
<p>La fiscalité prévoit des abattements progressifs selon la durée de détention du bien :</p>
<table border="1" cellpadding="4">
  <thead>
    <tr>
      <th>Durée de détention</th>
      <th>Abattement pour impôt sur le revenu</th>
      <th>Abattement pour prélèvements sociaux</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Moins de 6 ans</td>
      <td>0 %</td>
      <td>0 %</td>
    </tr>
    <tr>
      <td>6 ans</td>
      <td>6 %</td>
      <td>1,65 %</td>
    </tr>
    <tr>
      <td>7 ans</td>
      <td>12 %</td>
      <td>1,65 %</td>
    </tr>
    <tr>
      <td>8 ans</td>
      <td>18 %</td>
      <td>1,65 %</td>
    </tr>
    <tr>
      <td>9 ans</td>
      <td>24 %</td>
      <td>1,65 %</td>
    </tr>
    <tr>
      <td>10 ans</td>
      <td>30 %</td>
      <td>1,65 %</td>
    </tr>
    <tr>
      <td>11 ans</td>
      <td>36 %</td>
      <td>4,15 %</td>
    </tr>
    <tr>
      <td>12 ans</td>
      <td>42 %</td>
      <td>4,15 %</td>
    </tr>
    <tr>
      <td>13 ans</td>
      <td>48 %</td>
      <td>4,15 %</td>
    </tr>
    <tr>
      <td>14 ans</td>
      <td>54 %</td>
      <td>4,15 %</td>
    </tr>
    <tr>
      <td>15 ans</td>
      <td>60 %</td>
      <td>4,15 %</td>
    </tr>
    <tr>
      <td>16 ans</td>
      <td>66 %</td>
      <td>8,3 %</td>
    </tr>
    <tr>
      <td>17 ans</td>
      <td>72 %</td>
      <td>8,3 %</td>
    </tr>
    <tr>
      <td>18 ans</td>
      <td>78 %</td>
      <td>8,3 %</td>
    </tr>
    <tr>
      <td>19 ans</td>
      <td>84 %</td>
      <td>8,3 %</td>
    </tr>
    <tr>
      <td>20 ans</td>
      <td>90 %</td>
      <td>8,3 %</td>
    </tr>
    <tr>
      <td>≥ 22 ans</td>
      <td>Exonération totale</td>
      <td>Exonération totale</td>
    </tr>
  </tbody>
</table>

<h3>3. Abattements sur le prix d’achat</h3>
<p>Pour alléger la plus-value imposable, vous pouvez ajouter :</p>
<ul>
  <li>Les frais d’acquisition (frais de notaire) de 7,5 % maximum du prix d’achat si vous ne pouvez pas justifier de frais réels</li>
  <li>Les travaux réalisés (hors entretien courant), justifiés par factures, pour leur montant réel</li>
</ul>

<h3>4. Taux d’imposition</h3>
<p>La plus-value immobilière est soumise à :</p>
<ul>
  <li><strong>Impôt sur le revenu</strong> au taux forfaitaire de 19 %</li>
  <li><strong>Prélèvements sociaux</strong> au taux de 17,2 %</li>
  <li>Une surtaxe peut s'appliquer au-delà de 50 000 € de plus-value</li>
</ul>

<h3>5. Exonérations possibles</h3>
<ul>
  <li>La résidence principale est totalement exonérée de plus-value</li>
  <li>Les cessions de biens dont le prix est inférieur à 15 000 €</li>
  <li>Les personnes âgées de plus de 65 ans sous conditions de revenus</li>
  <li>Les biens détenus plus de 30 ans (exonération totale après 22 ans pour l’impôt et 30 ans pour les prélèvements sociaux)</li>
</ul>

<h3>6. Conclusion</h3>
<p>La fiscalité de la plus-value immobilière est complexe mais permet une certaine optimisation grâce aux abattements et déductions. Il est recommandé de bien conserver tous les justificatifs et de consulter un expert pour déclarer correctement votre plus-value lors de la vente.</p>

  <br><br>

  <app-faq-section
    [title]="&quot;FAQ – Questions fréquentes sur la plus-value immobilière'&quot;"
    [faqItems]="faqItems"
    [ariaLabel]="&quot;Foire aux questions'&quot;">
  </app-faq-section>
</main>