<main>

  <h1>Simulateur Loi de Défiscalisation Immobilière</h1>
  <div class="separator"></div><br>
  <form [formGroup]="form" (ngSubmit)="calculer()" class="form">
    <p-panel header="Paramètres du simulateur">

      <div class="flex-auto">
        <p-floatLabel>
          <p-dropdown formControlName="loi" [options]="[
            {label: 'Pinel', value: 'pinel'},
            {label: 'Denormandie', value: 'denormandie'},
            {label: 'Malraux', value: 'malraux'},
            {label: 'Monuments Historiques', value: 'monuments_historiques'},
            {label: 'Censi-Bouvard', value: 'censi_bouvard'}
          ]"></p-dropdown>
          <label for="loi">Choisissez une loi</label>
        </p-floatLabel>
      </div>

      <!-- Montant investi -->
      <div class="flex-auto">
        <p-floatLabel>
          <p-inputNumber formControlName="montantInvesti" [min]="0" prefix="€ " inputId="investi"></p-inputNumber>
          <label for="investi">Montant investi</label>
        </p-floatLabel>
      </div>

      <!-- Montant travaux -->
      <div class="flex-auto">
        <p-floatLabel>
          <p-inputNumber formControlName="montantTravaux" [min]="0" prefix="€ " inputId="travaux"></p-inputNumber>
          <label for="travaux">Montant travaux (si applicable)</label>
        </p-floatLabel>
      </div>

      <!-- Durée Pinel -->
      <div class="flex-auto" *ngIf="form.value.loi === 'pinel'">
        <p-floatLabel>
          <p-dropdown formControlName="duree" [options]="[
            {label: '6 ans', value: 6},
            {label: '9 ans', value: 9},
            {label: '12 ans', value: 12}
          ]"></p-dropdown>
          <label for="duree">Durée de location</label>
        </p-floatLabel>
      </div>

      <!-- Zone Malraux -->
      <div class="flex-auto" *ngIf="form.value.loi === 'malraux'">
        <p-floatLabel>
          <p-dropdown formControlName="zone" [options]="[
            {label: 'Secteur sauvegardé', value: 'secteur_sauvegarde'},
            {label: 'ZPPAUP', value: 'zppaup'}
          ]"></p-dropdown>
          <label for="zone">Zone Malraux</label>
        </p-floatLabel>
      </div>

    </p-panel>
    <button pButton type="submit" label="Calculer" icon="pi pi-check" class="p-button-success"></button>


    <p-panel *ngIf="result" header="Résultats de la simulation" class="flex-auto panel-colonnes">
      <div class="panel-colonnes">
        <div class="colonne">
          <p>{{ result.info }}</p>
        </div>
        <div class="colonne">
          <p>Montant total de la réduction d'impôt :
            <strong>{{ result.reduction | currency:'EUR' }}</strong>
          </p>
        </div>
      </div>
    </p-panel>

  </form>
  <br>
  <div class="separator"></div><br>
  <h2>Les principales lois fiscales en investissement immobilier et financier</h2>
  <p>En France, plusieurs lois encadrent et encouragent l’investissement immobilier ou financier. Elles permettent aux
    investisseurs de réduire leurs impôts, d’optimiser leur fiscalité ou de bénéficier de régimes avantageux. Connaître
    ces dispositifs est essentiel pour investir intelligemment.</p>

  <h2>Les lois fiscales en immobilier locatif</h2>
  <ul>
    <li><strong>Loi Pinel :</strong> réduction d’impôt pour l’achat d’un logement neuf destiné à la location pendant 6,
      9 ou 12 ans.</li>
    <li><strong>Loi Denormandie :</strong> similaire au Pinel mais applicable aux biens anciens à rénover dans certaines
      zones.</li>
    <li><strong>LMNP (Loueur Meublé Non Professionnel) :</strong> statut fiscal avantageux permettant l’amortissement du
      bien et la déduction des charges.</li>
    <li><strong>Cosse (Louer Abordable) :</strong> réduction d’impôt en échange d’un loyer modéré et d’une location à
      des ménages modestes.</li>
  </ul>

  <h2>Les lois fiscales pour les monuments historiques</h2>
  <ul>
    <li><strong>Loi Malraux :</strong> réduction d’impôt pour la restauration de biens situés dans des secteurs
      sauvegardés.</li>
    <li><strong>Monuments Historiques :</strong> déduction totale des travaux de restauration sur le revenu imposable,
      sans plafond.</li>
  </ul>

  <h2>Les dispositifs en épargne et investissement</h2>
  <ul>
    <li><strong>PEA (Plan d'Épargne en Actions) :</strong> exonération d’impôt sur les gains après 5 ans de détention
      (hors prélèvements sociaux).</li>
    <li><strong>PER (Plan d'Épargne Retraite) :</strong> déduction des versements volontaires du revenu imposable et
      sortie optimisée fiscalement.</li>
    <li><strong>Assurance Vie :</strong> fiscalité dégressive après 8 ans, avec un abattement annuel sur les gains
      retirés.</li>
  </ul>

  <h2>Comment choisir la loi adaptée ?</h2>
  <p>Le choix dépend de vos objectifs : réduire vos impôts immédiatement, préparer votre retraite, transmettre un
    patrimoine ou générer des revenus complémentaires. Une analyse personnalisée est recommandée.</p>

  <h2>Exemple concret</h2>
  <p>Un investisseur achetant un appartement neuf de 200 000 € en zone Pinel pour 9 ans peut obtenir jusqu’à 18 000 € de
    réduction d’impôt, en plus des loyers perçus pendant la période.</p>

  <h2>Avantages des dispositifs fiscaux</h2>
  <ul>
    <li>Réduction ou report d’impôt</li>
    <li>Optimisation des revenus locatifs ou financiers</li>
    <li>Constitution d’un patrimoine à moindre coût</li>
    <li>Préparation de la retraite</li>
  </ul>

  <h2>Conclusion</h2>
  <p>Les lois fiscales françaises offrent de nombreuses opportunités d’optimisation pour les investisseurs. Les
    connaître permet de construire une stratégie sur mesure, en fonction de son profil et de ses objectifs.</p>

  <br><br>

  <app-faq-section
    [title]="&quot;FAQ'&quot;"
    [faqItems]="faqItems"
    [ariaLabel]="&quot;Foire aux questions'&quot;">
  </app-faq-section>

</main>